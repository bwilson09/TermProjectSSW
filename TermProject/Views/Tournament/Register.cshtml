@using TermProject.ViewModels
@model TeamRegisterVm


@*use a view model here to only show what the user needs to import for the form?*@
@section SiteHeader {
	@Html.Partial("_SiteHeader")
}



@* <div asp-validation-summary="All" class="text-danger"></div> *@

<div class="mt-3">
	<a asp-controller="Tournament" asp-action="Index" class="btn btn-sm btn-secondary">Back to Home</a>
</div>

<div class="m-5 text-center">
<h2>Register Your Team!</h2>
<p>Be advised- a 200$ registration fee is required to participate!</p>
</div>

<div class="card p-3">
	<form asp-controller="Tournament" asp-action="Register" method="post">
		<div class="text-center fs-3">
			Team Information
		</div>
		<div>
			<label asp-for="TeamName">Team Name</label>
			<input asp-for="TeamName" class="form-control"/>
			<span class="text-danger" asp-validation-for="TeamName"></span>

		</div>
		<div>
			<label asp-for="DivisionId">Division</label>
			<select asp-for="DivisionId" asp-items="Model.Divisions" class="form-control">
				<option value="">--Select your division--</option></select>
			<span class="text-danger" asp-validation-for="DivisionId"></span>
		</div>

		<div class="text-center fs-3 mt-1">
			Player Information
		</div>
		@for (int i=0; i < Model.Players.Count; i++)
		{
			<div class="my-2 fs-5">Player @(i + 1)</div>
			<div>
				<label asp-for="Players[i].PlayerName">Name</label>
				<input asp-for="Players[i].PlayerName" class="form-control" />
				<span asp-validation-for="Players[i].PlayerName" class="text-danger"></span>
			</div>
			<div>
				<label asp-for="Players[i].City"></label>
				<input asp-for="Players[i].City" class="form-control" />
				<span asp-validation-for="Players[i].City" class="text-danger"></span>
			</div>
			@* <div>
				<label asp-for="Players[i].Province"></label>
				<input asp-for="Players[i].Province" class="form-control" maxlength="2" pattern="[A-Z]{2}"/>
				<span asp-validation-for="Players[i].Province" class="text-danger"></span>
			</div> *@
			<div class="mb-3">
				<label class="form-label">Province</label>
				<select asp-for="Players[i].Province" class="form-select">
					<option value="">-- Select Province --</option>
					<option value="AB">AB</option>
					<option value="BC">BC</option>
					<option value="MB">MB</option>
					<option value="NB">NB</option>
					<option value="NL">NL</option>
					<option value="NS">NS</option>
					<option value="NT">NT</option>
					<option value="NU">NU</option>
					<option value="ON">ON</option>
					<option value="PE">PE</option>
					<option value="QC">QC</option>
					<option value="SK">SK</option>
					<option value="YT">YT</option>
				</select>
				<span asp-validation-for="Players[i].Province" class="text-danger"></span>
			</div>
			<div>
				<label asp-for="Players[i].Email"></label>
				<input asp-for="Players[i].Email" class="form-control" />
				<span asp-validation-for="Players[i].Email" class="text-danger"></span>
			</div>
			<div>
				<label asp-for="Players[i].Phone"></label>
				<input asp-for="Players[i].Phone" class="form-control" />
				<span asp-validation-for="Players[i].Phone" class="text-danger"></span>
			</div>
		}
		<button type="submit" class="btn btn-lg btn-primary mt-3">Register Team</button>
	</form>
</div>